{% extends 'base.html' %}
{% load myfilters %}
{% load socialaccount %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'css/searchreasult.css' %}">
<script src="https://js.stripe.com/v3/"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
<style>
form {
  width: 100%;
  min-width: 100%;
  align-self: center;
  box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),
    0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);
  border-radius: 7px;
  padding: 40px;
}
input {
  border-radius: 6px;
  margin-bottom: 6px;
  padding: 12px;
  border: 1px solid rgba(50, 50, 93, 0.1);
  height: 44px;
  font-size: 16px;
  width: 100%;
  background: white;
}
.result-message {
  line-height: 22px;
  font-size: 16px;
}
.result-message a {
  color: rgb(89, 111, 214);
  font-weight: 600;
  text-decoration: none;
}
.hidden {
  display: none;
}
#card-error {
  color: rgb(105, 115, 134);
  text-align: left;
  font-size: 13px;
  line-height: 17px;
  margin-top: 12px;
}
#card-element {
  border-radius: 4px 4px 0 0 ;
  padding: 12px;
  border: 1px solid rgba(50, 50, 93, 0.1);
  height: 44px;
  width: 100%;
  background: white;
}
#payment-request-button {
  margin-bottom: 32px;
}
/* Buttons and links */
button {
  background: #5469d4;
  color: #ffffff;
  border-radius: 0 0 4px 4px;
  border: 0;
  padding: 12px 16px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: block;
  transition: all 0.2s ease;
  box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);
  width: 100%;
}
button:hover {
  filter: contrast(115%);
}
button:disabled {
  opacity: 0.5;
  cursor: default;
}
/* spinner/processing state, errors */
.spinner,
.spinner:before,
.spinner:after {
  border-radius: 50%;
}
.spinner {
  color: #ffffff;
  font-size: 22px;
  text-indent: -99999px;
  margin: 0px auto;
  position: relative;
  width: 20px;
  height: 20px;
  box-shadow: inset 0 0 0 2px;
  -webkit-transform: translateZ(0);
  -ms-transform: translateZ(0);
  transform: translateZ(0);
}
.spinner:before,
.spinner:after {
  position: absolute;
  content: "";
}
.spinner:before {
  width: 10.4px;
  height: 20.4px;
  background: #5469d4;
  border-radius: 20.4px 0 0 20.4px;
  top: -0.2px;
  left: -0.2px;
  -webkit-transform-origin: 10.4px 10.2px;
  transform-origin: 10.4px 10.2px;
  -webkit-animation: loading 2s infinite ease 1.5s;
  animation: loading 2s infinite ease 1.5s;
}
.spinner:after {
  width: 10.4px;
  height: 10.2px;
  background: #5469d4;
  border-radius: 0 10.2px 10.2px 0;
  top: -0.1px;
  left: 10.2px;
  -webkit-transform-origin: 0px 10.2px;
  transform-origin: 0px 10.2px;
  -webkit-animation: loading 2s infinite ease;
  animation: loading 2s infinite ease;
}
#loginPayModal{
}
#loginPayModalblock{
border-radius: 15px;
}
.sellingProduct{
    text-align: center;
}
#popupTabs{
    background-color: #2c3c63;
}
@import url('https://fonts.googleapis.com/css?family=Arima+Madurai:100,200,300,400,500,700,800,900');
body {
	margin-top: 60px;
	font-size: 14px;
	font-family: 'Arima Madurai', cursive;
	background-color: #E5E9ED;
}
.btn:hover,
.btn:focus,
.btn:active{
    outline: 0 !important;
}
/* entire container, keeps perspective */
.card-container {
	  -webkit-perspective: 800px;
   -moz-perspective: 800px;
     -o-perspective: 800px;
        /* perspective: 800px; */
        margin-bottom: 30px;
}
/* flip the pane when hovered */
.card-container:not(.manual-flip):hover .card,
.card-container.hover.manual-flip .card{
	-webkit-transform: rotateY( 180deg );
-moz-transform: rotateY( 180deg );
 -o-transform: rotateY( 180deg );
    transform: rotateY( 180deg );
}


.card-container.static:hover .card,
.card-container.static.hover .card {
	-webkit-transform: none;
-moz-transform: none;
 -o-transform: none;
    transform: none;
}
/* flip speed goes here */
.card {
	 -webkit-transition: -webkit-transform .5s;
   -moz-transition: -moz-transform .5s;
     -o-transition: -o-transform .5s;
        transition: transform .5s;
-webkit-transform-style: preserve-3d;
   -moz-transform-style: preserve-3d;
     -o-transform-style: preserve-3d;
        transform-style: preserve-3d;
	position: relative;
  background-color: white;
}

/* hide back of pane during swap */
.front, .back {
	-webkit-backface-visibility: hidden;
   -moz-backface-visibility: hidden;
     -o-backface-visibility: hidden;
        backface-visibility: hidden;
	position: absolute;
	top: 0;
	left: 0;
    align-items: center;
    background-color:#FAFAFA;

;
  border-radius: 20px
;
}

/* front pane, placed above back */
.front {
	z-index: 2;
  align-content: center;
align-items: center;
}

/* back, initially hidden pane */
.back {
		-webkit-transform: rotateY( 180deg );
   -moz-transform: rotateY( 180deg );
     -o-transform: rotateY( 180deg );
        transform: rotateY( 180deg );
        z-index: 3;
}

.back .btn-simple{
    position: absolute;
    left: 0;
    bottom: 4px;
}
/*        Style       */


.card{
    border-radius: 4px;
    align-content: center;

}
.card-container, .front, .back {
	width: 100%;
	height: 420px;
	border-radius: 4px;

}
.card .cover{
    height: 105px;
    overflow: hidden;
    /* border-radius: 4px 4px 0 0; */
}
.card .cover img{
    width: 100%;
}
.card .user{
    /* border-radius: 50%; */
    display: block;
    height: 120px;
    margin: -55px auto 0;
    overflow: hidden;
    width: 120px;
}
.card .user img{
    /* background: none repeat scroll 0 0 #FFFFFF; */
    /* border: 4px solid #FFFFFF; */
    width: 100%;
}

.card .content{
    box-shadow: none;
    /* padding: 10px 20px 20px; */
}
.card .content .main {
    /* min-height: 160px; */
}
.card .back .content .main {
    /* height: 215px; */
}
.card .name {
		font-family: 'Arima Madurai', cursive;
    font-size: 22px;
    line-height: 28px;
    margin: 10px 0 0;
    text-align: center;
    text-transform: capitalize;
}
.card h5{
    margin: 5px 0;
    font-weight: 400;
    line-height: 20px;
}
.card .profession{
    color: #999999;
    text-align: center;
    margin-bottom: 20px;
}
.card .footer {
    /* border-top: 1px solid #EEEEEE; */
    /* color: #999999; */
    /* margin: 30px 0 0; */
    /* padding: 10px 0 0; */
    text-align: center;
}
.card .footer .social-links{
    font-size: 18px;
}
.card .footer .social-links a{
    margin: 0 7px;
}
.card .footer .btn-simple{
    margin-top: -6px;
}
.card .header {
    /* padding: 15px 20px; */
    height: 90px;
}
.card .motto{
		font-family: 'Arima Madurai', cursive;
    /* border-bottom: 1px solid #EEEEEE; */
    color: #999999;
    font-size: 14px;
    font-weight: 400;
    /* padding-bottom: 10px; */
    text-align: center;
}

.card .stats-container{
	width: 100%;
	margin-top: 50px;
}
.card .stats{
	display: block;
	float: left;
	width: 33.333333%;
	text-align: center;
}

.card .stats:first-child{
	/* border-right: 1px solid #EEEEEE; */
}
.card .stats:last-child{
	/* border-left: 1px solid #EEEEEE; */
}
.card .stats h4{
		font-family: 'Arima Madurai', cursive;
	font-weight: 300;
	/* margin-bottom: 5px; */
}
.card .stats p{
	color: #777777;
}
/*      Just for presentation        */

.title{
    color: #506A85;
    text-align: center;
    font-weight: 300;
    font-size: 44px;
    margin-bottom: 90px;
    line-height: 90%;
}
.title small{
    font-size: 17px;
    color: #999;
    text-transform: uppercase;
    margin: 0;
}
.space-30{
	height: 30px;
	display: block;
}
.space-50{
    height: 50px;
    display: block;
}
.space-200{
    height: 200px;
    display: block;
}
.white-board{
    /* background-color: #FFFFFF; */
    min-height: 200px;
    /* padding: 60px 60px 20px; */
}
.ct-heart{
    color: #F74933;
}

 pre.prettyprint{
    background-color: #ffffff;
    /* border: 1px solid #999; */
    /* margin-top: 20px; */
    /* padding: 20px; */
    text-align: left;
}
.atv, .str{
    color: #05AE0E;
}
.tag, .pln, .kwd{
     color: #3472F7;
}
.atn{
  color: #2C93FF;
}
.pln{
   color: #333;
}
.com{
    color: #999;
}

.btn-simple{
    opacity: .8;
    color: #666666;
    background-color: transparent;
}

.btn-simple:hover,
.btn-simple:focus{
    background-color: transparent;
    box-shadow: none;
    opacity: 1;
}
.btn-simple i{
    font-size: 16px;
}

.navbar-brand-logo{
    padding: 0;
}
.navbar-brand-logo .logo{
    border: 1px solid #333333;
    border-radius: 50%;
    float: left;
    overflow: hidden;
    width: 60px;
}
.navbar .navbar-brand-logo .brand{
    color: #FFFFFF;
    float: left;
    font-size: 18px;
    font-weight: 400;
    line-height: 20px;
    margin-left: 10px;
    margin-top: 10px;
    width: 60px;
}
.navbar-default .navbar-brand-logo .brand{
    color: #555;
}


/*       Fix bug for IE      */

@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .front, .back{
        -ms-backface-visibility: visible;
        backface-visibility: visible;
    }

    .back {
        visibility: hidden;
        /* -ms-transition: all 0.2s cubic-bezier(.92,.01,.83,.67); */
    }
    .front{
        z-index: 4;
        text-align: center;

    }
    .card-container:not(.manual-flip):hover .back,
    .card-container.manual-flip.hover .back{
        z-index: 5;
        visibility: visible;
    }
}
.checked {
  color: orange;
}

.imdiv1{
  background-color: #F5D2D3;
  position:absolute;
  bottom:0;
  text-align: center;
  width: 100%;


;
}
.imdiv2{
  background-color:#9AB7D3;
  position:absolute;
  bottom:0;
  text-align: center;
  width: 100%;
}
.imdiv3{
  background-color:#F7E1D3;
  position:absolute;
  bottom:0;
  text-align: center;
  width: 100%;
}
.imdiv4{
  background-color:#DFCCF1;
  position:absolute;
  bottom:0;
  text-align: center;
  width: 100%;
}

.CardTitle{
  text-align: center;
  
}

.CardTitle2{
  text-align: center;
  
}

.stardiv{
  text-align: center;
}


#moreInfoButton{
  background-color: #052DF1;
  width: 40%;
  margin:auto;
  display:block;
  color: white;

}
#titleRow{
  background-color: #FAFAFA;

;

;
}
#RatingsRow{
  background-color: white;

}
</style>
{% endblock %}
{% block content %}

{% if not user.is_authenticated %}

<!--Modal: Login / Register Form-->
<div class="modal fade" id="loginPayModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document" style="max-width:50%;" >
      <!--Content-->
      <div class="modal-content" id="loginPayModalblock">
        <!--Modal cascading tabs-->
        <div class="modal-c-tabs">
          <!-- Nav tabs -->
          <ul class="nav nav-tabs md-tabs tabs-2 light-blue darken-3" role="tablist" id="popupTabs">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="tab" href="#panel7" role="tab"><i class="fas fa-user mr-1"></i>
                Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#panel8" role="tab"><i class="fas fa-user-plus mr-1"></i>
                Register</a>
            </li>
            <li class="nav-item">
                <a type="button" class="nav-link" href="{% url 'landing' %}">Back home</a>
              </li>
          </ul>
  
          <!-- Tab panels -->
          <div class="tab-content">
            <!--Panel 7-->
            <div class="tab-pane fade in show active" id="panel7" role="tabpanel">
  
              <!--Body-->
              <div class="modal-body mb-1">
                <form role="form" class="form-horizontal" method="post" action="{% url 'login' %}">{% csrf_token %}
                    <div class="form-group">

                        <label for="id_username" class="usernametag">USERNAME</label>
                        <input id="id_username" name="username" type="text" class="username-control-login">

                        <label for="id_password" class="passwordtag">PASSWORD</label>
                        <input id="id_password" name="password" type="password" class="password-control-login">
                        <br>
                        <input type="submit" class="signup_button"/>
                        <input type="hidden" name="next" value="/{{ urlsString }}" />
                    </div>

                </form>
                {% if form.errors %}
                <div class="alert alert-danger">
                    <strong>username or password not correct</strong>
                </div>
                {% endif %}
              
            </div>
        </div>
 
            <div class="tab-pane fade" id="panel8" role="tabpanel">
                <div class="sellingProduct">
                <h2>What you get</h2>
                <h3>-Over 200 properties in redland bristols most current reviewsfrom last year</h3>
                <h3>-A way to make see what its really like to live in  your next place!</h3>
                </div>
              <form id="payment-form" class="form-control">{% csrf_token %}
                <input name = "email" type="text" id="email" placeholder="Email address" class="form-control"/>
                <input name = "username" type="text" id="username" placeholder="username" class="form-control"/>
                <input name = "password" type="text" id="password" placeholder="password" class="form-control"/>

                <div id="card-element"></div>
                <button id="submit">
                  <div class="spinner hidden" id="spinner"></div>
                  <span id="button-text">Unlock all the reviews</span>
                </button>
                <p id="card-error" role="alert"></p>
                <p class="result-message hidden">
                </p>
              </form>
<script>
const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
var stripe = Stripe("pk_test_51IVE74GfxvWHpljQiugUY1xG2FvOnO8l6W64sVuSofMJ5SHsVVlZ5E81bLsC1BwIWptV8BL2U4ZHhesrXOyOKcRH00SdJXIHfx");
document.querySelector("button").disabled = true;
 
fetch("{% url 'create-checkout-session' %}", {
    method: "POST",
    headers: {
    'X-CSRFToken': csrftoken
    }                
    })
    .then(function(result) {
    return result.json();
    })
    .then(function(data) {
    var elements = stripe.elements();
    var style = {
        base: {
        color: "#32325d",
        fontFamily: 'Arial, sans-serif',
        fontSmoothing: "antialiased",
        fontSize: "16px",
        "::placeholder": {
            color: "#32325d"
        }
        },
        invalid: {
        fontFamily: 'Arial, sans-serif',
        color: "#fa755a",
        iconColor: "#fa755a"
        }
    };
    var card = elements.create("card", { style: style });
    // Stripe injects an iframe into the DOM
    card.mount("#card-element");
    card.on("change", function (event) {
        // Disable the Pay button if there are no card details in the Element
        document.querySelector("button").disabled = event.empty;
        document.querySelector("#card-error").textContent = event.error ? event.error.message : "";
    });
    var form = document.getElementById("payment-form");
    var formData = JSON.stringify($("payment-form").serializeArray());

    form.addEventListener("submit", function(event) {
        event.preventDefault();
        // Complete payment when the submit button is clicked
        payWithCard(stripe, card, data.client_secret);


        // Send for data back to the server
        var formElement = document.querySelector("#payment-form");
        var request = new XMLHttpRequest();
        request.open("POST", "{% url 'checkout' %}");
        console.log(formElement)
        request.send(new FormData(formElement));
        // Show a sucess message
        closeAllModals()

    });

});
                

// Calls stripe.confirmCardPayment
// If the card requires authentication Stripe shows a pop-up modal to
// prompt the user to enter authentication details without leaving your page.
var payWithCard = function(stripe, card, clientSecret) {
    loading(true);
  stripe
  .confirmCardPayment(clientSecret, {
      payment_method: {
        card: card
      }
    })

    // console.log(result)
    // .then(function(result) {
    //     if (result.error) {
    //     // Show error to your customer
    //     showError(result.error.message);
    //     } else {
    //     // The payment succeeded!
    //     console.log("order made")
    //     orderComplete(result.paymentIntent.id);
    //     //  If payment and login was sucessfull remove the modal

    //     }
    // });
};
/* ------- UI helpers ------- */
// Shows a success message when the payment is complete
var orderComplete = function(paymentIntentId) {
    loading(false);
    document
    .querySelector(".result-message a")
    .setAttribute(
        "href",
        "https://dashboard.stripe.com/test/payments/" + paymentIntentId
    );
    document.querySelector(".result-message").classList.remove("hidden");
    document.querySelector("button").disabled = true;
};
// Show the customer the error from Stripe if their card fails to charge
var showError = function(errorMsgText) {
    loading(false);
    var errorMsg = document.querySelector("#card-error");
    errorMsg.textContent = errorMsgText;
    setTimeout(function() {
    errorMsg.textContent = "";
    }, 4000);
};
// Show a spinner on payment submission
var loading = function(isLoading) {
    if (isLoading) {
    // Disable the button and show a spinner
    document.querySelector("button").disabled = true;
    document.querySelector("#spinner").classList.remove("hidden");
    document.querySelector("#button-text").classList.add("hidden");
    } else {
    document.querySelector("button").disabled = false;
    document.querySelector("#spinner").classList.add("hidden");
    document.querySelector("#button-text").classList.remove("hidden");
    }
};

function closeAllModals() {
    // get modals
    const modals = document.getElementsByClassName('modal');

    // on every modal change state like in hidden modal
    for(let i=0; i<modals.length; i++) {
    modals[i].classList.remove('show');
    modals[i].setAttribute('aria-hidden', 'true');
    modals[i].setAttribute('style', 'display: none');
    }

    // get modal backdrops
    const modalsBackdrops = document.getElementsByClassName('modal-backdrop');

    // remove every modal backdrop
    for(let i=0; i<modalsBackdrops.length; i++) {
    document.body.removeChild(modalsBackdrops[i]);
 }
}

            
              </script>

                </div>
  
              </div>
              </div>
        </div>
</div>
</div>
</div>


{% endif %}

 <!-- <div class="row">
<div class="col-4">
<h1>Review Timeline</h1>
<img id="u251_img" class="u251_img" src={% static "images/onereasult/u250.png" %} />
<h4>Click on a review year to see what past tennants thought</h4>
<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    {% for review in reviews %}
     make newest tab show first..so make sure it comes through in correct order from db 
    <li class="nav-item">
        find way to make newest tab active at start.. -->
        <!-- <a class="nav-link" id={{review}} data-toggle="pill" href=#{{review.id}} role="tab"
            aria-controls={{review.id}} aria-selected="true">{{review.moveIn}} - {{review.moveOut}}</a>
    </li>
    {% endfor %} -->
<!-- </ul>   -->

<!-- <iframe
    width="400"
    height="450"
    style="border:0"
    loading="lazy"
    allowfullscreen
    src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDlVTN-szxnm6ZMM8yWxZuuBIREfD8snjk
        &q={{property.address}}">
</iframe>
</div>
<div class="col-8">
<div class ="aggregateValueDiv"><h4>Review timeline for {{property.address}}</h4>
        <h6>
    Average overall rating over all reviews of this property:
    <div class="keyBox">
    {% for i in aggregateReview|times %}
                <img src="{% static "images/search_results/u53.png" %}" class="Rating--Star">

                {% endfor %}

                {% for i in aggregateReview|leftover %}
                    <img src="{% static "images/search_results/u52.png" %}" class="Rating--Star">
                {% endfor %}
    </div>
    </h6>
</div>
</div>  
        <hr> -->
<!-- 
<div class="tab-content" id="pills-tabContent">
    {% for review in reviews %}


    {% endfor %}

</div>
</div>   -->
<div class="row" id="RatingsRow">
  <h6>Overall review</h6>
</div>
<br>
<div class="row" id="titleRow">
  <div class="col-6">
    <h1>Title</h1>
    <h3>5 bedrooms</h3>
    </div>
    <div class="col-6">
      <h3>What this property offers</h3>

    </div>
</div>

<br>
 <div class="row" >
  <div class="col-6"> 
     <div class="card-container manual-flip">
    <div class="card">
        <div class="front">
                    <h3 class="CardTitle">Property Condition</h3>
                    <h4 class = "CardTitle2">Find out how well the property was maintained</h4>
                    <div class="stardiv">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star"></span>
                      <span class="fa fa-star"></span>
                    </div>
                    <button class="btn btn-simple" id = "moreInfoButton" onclick="rotateCard(this)">
                       See full review
                  </button>
                  <div class="imdiv1">
                  <img class="firstIm" src={% static "images/search_results/Saly-6.png" %} />
                </div>
                    
        </div> <!-- end front panel -->
        <div class="back">
          <div class="accordion accordion-flush" id="accordionFlushExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                  Accordion Item #1
                </button>
              </h2>
              <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                  Accordion Item #2
                </button>
              </h2>
              <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                  Accordion Item #3
                </button>
              </h2>
              <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
              </div>
            </div>
          </div>
          <div class="imdiv1">
            <img class="firstIm" src={% static "images/search_results/Saly-11.png" %} />
          </div>
            <div class="footer">
                <button class="btn btn-simple" rel="tooltip" title="" onclick="rotateCard(this)">
                    <i class="fa fa-reply"></i> Back
                </button>
                
            </div>
        </div> <!-- end back panel -->
    </div> <!-- end card -->
    </div>
  </div>
  <div class="col-6"> 
    <div class="card-container manual-flip">
   <div class="card">
       <div class="front">
                   <h3 class="CardTitle">Property Manager</h3>
                   <h4 class = "CardTitle2">Find out how the property manager was rated by tenants</h4>
                   <div class="stardiv">
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star"></span>
                     <span class="fa fa-star"></span>
                   </div>
                   <button class="btn btn-simple" id = "moreInfoButton" onclick="rotateCard(this)">
                      See full review
                 </button>
                 <div class="imdiv2">
                 <img class="firstIm" src={% static "images/search_results/Saly-16.png" %} />
               </div>
                   
       </div> <!-- end front panel -->
       <div class="back">
         <div class="accordion accordion-flush" id="accordionFlushExample">
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingOne">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                 Accordion Item #1
               </button>
             </h2>
             <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
             </div>
           </div>
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingTwo">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                 Accordion Item #2
               </button>
             </h2>
             <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
             </div>
           </div>
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingThree">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                 Accordion Item #3
               </button>
             </h2>
             <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
             </div>
           </div>
         </div>
         <div class="imdiv3">
           <img class="firstIm" src={% static "images/search_results/saly-28.png" %} />
         </div>
           <div class="footer">
               <button class="btn btn-simple" rel="tooltip" title="" onclick="rotateCard(this)">
                   <i class="fa fa-reply"></i> Back
               </button>
               
           </div>
       </div> <!-- end back panel -->
   </div> <!-- end card -->
   </div>
 </div>
</div>
<div class="row" >
  <div class="col-6"> 
     <div class="card-container manual-flip">
    <div class="card">
        <div class="front">
                    <h3 class="CardTitle">Neiborhood</h3>
                    <h4 class = "CardTitle2">Find out what people thought about living in the area</h4>
                    <div class="stardiv">
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star checked"></span>
                      <span class="fa fa-star"></span>
                      <span class="fa fa-star"></span>
                    </div>
                    <button class="btn btn-simple" id = "moreInfoButton" onclick="rotateCard(this)">
                       See full review
                  </button>
                  <div class="imdiv3">
                  <img class="firstIm" src={% static "images/search_results/Saly-6.png" %} />
                </div>
                    
        </div> <!-- end front panel -->
        <div class="back">
          <div class="accordion accordion-flush" id="accordionFlushExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                  Accordion Item #1
                </button>
              </h2>
              <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                  Accordion Item #2
                </button>
              </h2>
              <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                  Accordion Item #3
                </button>
              </h2>
              <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
              </div>
            </div>
          </div>
          <div class="imdiv1">
            <img class="firstIm" src={% static "images/search_results/Saly-6.png" %} />
          </div>
            <div class="footer">
                <button class="btn btn-simple" rel="tooltip" title="" onclick="rotateCard(this)">
                    <i class="fa fa-reply"></i> Back
                </button>
                
            </div>
        </div> <!-- end back panel -->
    </div> <!-- end card -->
    </div>
  </div>
  <div class="col-6"> 
    <div class="card-container manual-flip">
   <div class="card">
       <div class="front">
                   <h3 class="CardTitle">Property condition</h3>
                   <h4 class = "CardTitle2">Find out how well the property was maintained</h4>
                   <div class="stardiv">
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star checked"></span>
                     <span class="fa fa-star"></span>
                     <span class="fa fa-star"></span>
                   </div>
                   <button class="btn btn-simple" id = "moreInfoButton" onclick="rotateCard(this)">
                      See full review
                 </button>
                 <div class="imdiv4">
                 <img class="firstIm" src={% static "images/search_results/Saly-6.png" %} />
               </div>
                   
       </div> <!-- end front panel -->
       <div class="back">
         <div class="accordion accordion-flush" id="accordionFlushExample">
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingOne">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                 Accordion Item #1
               </button>
             </h2>
             <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
             </div>
           </div>
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingTwo">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                 Accordion Item #2
               </button>
             </h2>
             <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
             </div>
           </div>
           <div class="accordion-item">
             <h2 class="accordion-header" id="flush-headingThree">
               <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                 Accordion Item #3
               </button>
             </h2>
             <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
               <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
             </div>
           </div>
         </div>
         <div class="imdiv1">
           <img class="firstIm" src={% static "images/search_results/Saly-6.png" %} />
         </div>
           <div class="footer">
               <button class="btn btn-simple" rel="tooltip" title="" onclick="rotateCard(this)">
                   <i class="fa fa-reply"></i> Back
               </button>
               
           </div>
       </div> <!-- end back panel -->
   </div> <!-- end card -->
   </div>
 </div>
</div>




<script>
    jQuery(function(){
       jQuery('.nav-link').click();
    });
</script>
<script>
    $(document).ready(function(){
        $("#loginPayModal").modal('show');
    });



    </script>
<script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
<script>
  $().ready(function(){
  $('[rel="tooltip"]').tooltip();

});

function rotateCard(btn){
  var $card = $(btn).closest('.card-container');
  console.log($card);
  if($card.hasClass('hover')){
      $card.removeClass('hover');
  } else {
      $card.addClass('hover');
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

{% endblock %}

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
< src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></>
< src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></>